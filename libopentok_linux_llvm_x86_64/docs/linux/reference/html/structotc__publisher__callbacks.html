<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenTok C SDK: otc_publisher_callbacks Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenTok C SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">otc_publisher_callbacks Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="publisher_8h_source.html">publisher.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a4e31e10c92f25a61fbc2265c1b96f6f4"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structotc__publisher__callbacks.html#a4e31e10c92f25a61fbc2265c1b96f6f4">on_stream_created</a> )(<a class="el" href="publisher_8h.html#abb2094d1d7b7c22f042d6b197c779e20">otc_publisher</a> *publisher, void *<a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a>, const <a class="el" href="stream_8h.html#a8bffa84898b6f9952563bbf1e4cb962e">otc_stream</a> *stream)</td></tr>
<tr class="separator:a4e31e10c92f25a61fbc2265c1b96f6f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7028a5743fb048580e2926f559237275"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structotc__publisher__callbacks.html#a7028a5743fb048580e2926f559237275">on_stream_destroyed</a> )(<a class="el" href="publisher_8h.html#abb2094d1d7b7c22f042d6b197c779e20">otc_publisher</a> *publisher, void *<a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a>, const <a class="el" href="stream_8h.html#a8bffa84898b6f9952563bbf1e4cb962e">otc_stream</a> *stream)</td></tr>
<tr class="separator:a7028a5743fb048580e2926f559237275"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eddc51847acc6a60dcc8364aff63c8e"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structotc__publisher__callbacks.html#a3eddc51847acc6a60dcc8364aff63c8e">on_render_frame</a> )(<a class="el" href="publisher_8h.html#abb2094d1d7b7c22f042d6b197c779e20">otc_publisher</a> *publisher, void *<a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a>, const <a class="el" href="video__frame_8h.html#a156d9da389ced48b6889b671ec0dc7fb">otc_video_frame</a> *frame)</td></tr>
<tr class="separator:a3eddc51847acc6a60dcc8364aff63c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf077663cf8b5ab9b0b60791e9e18291"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structotc__publisher__callbacks.html#aaf077663cf8b5ab9b0b60791e9e18291">on_audio_level_updated</a> )(<a class="el" href="publisher_8h.html#abb2094d1d7b7c22f042d6b197c779e20">otc_publisher</a> *publisher, void *<a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a>, float audio_level)</td></tr>
<tr class="separator:aaf077663cf8b5ab9b0b60791e9e18291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed537ea0dbdc93e51b2c1db7655ec364"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structotc__publisher__callbacks.html#aed537ea0dbdc93e51b2c1db7655ec364">on_publisher_mute_forced</a> )(<a class="el" href="publisher_8h.html#abb2094d1d7b7c22f042d6b197c779e20">otc_publisher</a> *publisher, void *<a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a>)</td></tr>
<tr class="separator:aed537ea0dbdc93e51b2c1db7655ec364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e5001319973bceb71b5cf24025317bc"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structotc__publisher__callbacks.html#a7e5001319973bceb71b5cf24025317bc">on_audio_stats</a> )(<a class="el" href="publisher_8h.html#abb2094d1d7b7c22f042d6b197c779e20">otc_publisher</a> *publisher, void *<a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a>, struct <a class="el" href="structotc__publisher__audio__stats.html">otc_publisher_audio_stats</a> audio_stats[], size_t number_of_stats)</td></tr>
<tr class="separator:a7e5001319973bceb71b5cf24025317bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b605adf88294bbb8d16d921ea7b37ae"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structotc__publisher__callbacks.html#a3b605adf88294bbb8d16d921ea7b37ae">on_video_stats</a> )(<a class="el" href="publisher_8h.html#abb2094d1d7b7c22f042d6b197c779e20">otc_publisher</a> *publisher, void *<a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a>, struct <a class="el" href="structotc__publisher__video__stats.html">otc_publisher_video_stats</a> video_stats[], size_t number_of_stats)</td></tr>
<tr class="separator:a3b605adf88294bbb8d16d921ea7b37ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64d7ef171aeef88b576569acd993b8ed"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structotc__publisher__callbacks.html#a64d7ef171aeef88b576569acd993b8ed">on_error</a> )(<a class="el" href="publisher_8h.html#abb2094d1d7b7c22f042d6b197c779e20">otc_publisher</a> *publisher, void *<a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a>, const char *error_string, enum <a class="el" href="publisher_8h.html#ae1a254392070e1b7bc71068c8a960d77">otc_publisher_error_code</a> error_code)</td></tr>
<tr class="separator:a64d7ef171aeef88b576569acd993b8ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f53d287ac7c064d1a49d4bd93ca1cb9"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a></td></tr>
<tr class="separator:a0f53d287ac7c064d1a49d4bd93ca1cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4544f2a75ed89c0744fd045d631cf3d9"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structotc__publisher__callbacks.html#a4544f2a75ed89c0744fd045d631cf3d9">reserved</a></td></tr>
<tr class="separator:a4544f2a75ed89c0744fd045d631cf3d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Publisher callback functions.</p>
<p>This structure is a set of function pointers to callback functions that can be called in response to events related to an OpenTok publisher.</p>
<p>All callbacks will not be made on the application or main thread but on an internal thread. The application should return the callback as quickly as possible to avoid blocking the internal thread.</p>
<p>Data passed into a callback function (other than <code>publisher</code> and <code>user_data</code>) will be released after the callback is called. Make a copy of the data if you need to retain it. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="aaf077663cf8b5ab9b0b60791e9e18291"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf077663cf8b5ab9b0b60791e9e18291">&#9670;&nbsp;</a></span>on_audio_level_updated</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* on_audio_level_updated) (<a class="el" href="publisher_8h.html#abb2094d1d7b7c22f042d6b197c779e20">otc_publisher</a> *publisher, void *<a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a>, float audio_level)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called periodically to report the audio level of the publisher.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">publisher</td><td>A pointer to the publisher. </td></tr>
    <tr><td class="paramname">user_data</td><td>A pointer to the user_data you set for the publisher. </td></tr>
    <tr><td class="paramname">audio_level</td><td>The audio level value, from 0 to 1.0. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7e5001319973bceb71b5cf24025317bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e5001319973bceb71b5cf24025317bc">&#9670;&nbsp;</a></span>on_audio_stats</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* on_audio_stats) (<a class="el" href="publisher_8h.html#abb2094d1d7b7c22f042d6b197c779e20">otc_publisher</a> *publisher, void *<a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a>, struct <a class="el" href="structotc__publisher__audio__stats.html">otc_publisher_audio_stats</a> audio_stats[], size_t number_of_stats)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called periodically to report audio statistics for the publisher.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">publisher</td><td>A pointer to the publisher. </td></tr>
    <tr><td class="paramname">user_data</td><td>A pointer to the user_data you set for the publisher. </td></tr>
    <tr><td class="paramname">audio_stats</td><td>An array of publisher audio stats. </td></tr>
    <tr><td class="paramname">number_of_stats</td><td>The number of audio stats in the array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a64d7ef171aeef88b576569acd993b8ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64d7ef171aeef88b576569acd993b8ed">&#9670;&nbsp;</a></span>on_error</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* on_error) (<a class="el" href="publisher_8h.html#abb2094d1d7b7c22f042d6b197c779e20">otc_publisher</a> *publisher, void *<a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a>, const char *error_string, enum <a class="el" href="publisher_8h.html#ae1a254392070e1b7bc71068c8a960d77">otc_publisher_error_code</a> error_code)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when the publisher fails.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">publisher</td><td>A pointer to the publisher. </td></tr>
    <tr><td class="paramname">user_data</td><td>A pointer to the user_data you set for the publisher. </td></tr>
    <tr><td class="paramname">error_string</td><td>A string containing the error message. </td></tr>
    <tr><td class="paramname">error_code</td><td>An error code enum value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aed537ea0dbdc93e51b2c1db7655ec364"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed537ea0dbdc93e51b2c1db7655ec364">&#9670;&nbsp;</a></span>on_publisher_mute_forced</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* on_publisher_mute_forced) (<a class="el" href="publisher_8h.html#abb2094d1d7b7c22f042d6b197c779e20">otc_publisher</a> *publisher, void *<a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when a moderator has forced this publisher to mute audio.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">publisher</td><td>A pointer to the publisher. </td></tr>
    <tr><td class="paramname">user_data</td><td>A pointer to the user_data you set for the publisher. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3eddc51847acc6a60dcc8364aff63c8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eddc51847acc6a60dcc8364aff63c8e">&#9670;&nbsp;</a></span>on_render_frame</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* on_render_frame) (<a class="el" href="publisher_8h.html#abb2094d1d7b7c22f042d6b197c779e20">otc_publisher</a> *publisher, void *<a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a>, const <a class="el" href="video__frame_8h.html#a156d9da389ced48b6889b671ec0dc7fb">otc_video_frame</a> *frame)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when there is a new frame ready to be rendered by the publisher.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">publisher</td><td>A pointer to the publisher. </td></tr>
    <tr><td class="paramname">user_data</td><td>A pointer to the user_data you set for the publisher. </td></tr>
    <tr><td class="paramname">frame</td><td>A pointer to the new video frame. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4e31e10c92f25a61fbc2265c1b96f6f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e31e10c92f25a61fbc2265c1b96f6f4">&#9670;&nbsp;</a></span>on_stream_created</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* on_stream_created) (<a class="el" href="publisher_8h.html#abb2094d1d7b7c22f042d6b197c779e20">otc_publisher</a> *publisher, void *<a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a>, const <a class="el" href="stream_8h.html#a8bffa84898b6f9952563bbf1e4cb962e">otc_stream</a> *stream)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when the publisher's stream is created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">publisher</td><td>A pointer to the publisher. </td></tr>
    <tr><td class="paramname">user_data</td><td>A pointer to the user_data you set for the publisher. </td></tr>
    <tr><td class="paramname">stream</td><td>A pointer to the stream. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7028a5743fb048580e2926f559237275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7028a5743fb048580e2926f559237275">&#9670;&nbsp;</a></span>on_stream_destroyed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* on_stream_destroyed) (<a class="el" href="publisher_8h.html#abb2094d1d7b7c22f042d6b197c779e20">otc_publisher</a> *publisher, void *<a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a>, const <a class="el" href="stream_8h.html#a8bffa84898b6f9952563bbf1e4cb962e">otc_stream</a> *stream)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called when the publisher's stream is destroyed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">publisher</td><td>A pointer to the publisher. </td></tr>
    <tr><td class="paramname">user_data</td><td>A pointer to the user_data you set for the publisher. </td></tr>
    <tr><td class="paramname">strem</td><td>A pointer to the stream. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3b605adf88294bbb8d16d921ea7b37ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b605adf88294bbb8d16d921ea7b37ae">&#9670;&nbsp;</a></span>on_video_stats</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* on_video_stats) (<a class="el" href="publisher_8h.html#abb2094d1d7b7c22f042d6b197c779e20">otc_publisher</a> *publisher, void *<a class="el" href="structotc__publisher__callbacks.html#a0f53d287ac7c064d1a49d4bd93ca1cb9">user_data</a>, struct <a class="el" href="structotc__publisher__video__stats.html">otc_publisher_video_stats</a> video_stats[], size_t number_of_stats)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Called periodically to report video statistics for the publisher.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">publisher</td><td>A pointer to the publisher. </td></tr>
    <tr><td class="paramname">user_data</td><td>A pointer to the user_data you set for the publisher. </td></tr>
    <tr><td class="paramname">video_stats</td><td>An array of publisher video stats. </td></tr>
    <tr><td class="paramname">number_of_stats</td><td>The number of video stats in the array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4544f2a75ed89c0744fd045d631cf3d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4544f2a75ed89c0744fd045d631cf3d9">&#9670;&nbsp;</a></span>reserved</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* reserved</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A void pointer to a memory area holding reserved resources used for the internal implementation. </p>

</div>
</div>
<a id="a0f53d287ac7c064d1a49d4bd93ca1cb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f53d287ac7c064d1a49d4bd93ca1cb9">&#9670;&nbsp;</a></span>user_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* user_data</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A pointer to data you set related to the publisher. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/otkit/include/opentok/<a class="el" href="publisher_8h_source.html">publisher.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 3 2023 23:46:11 for OpenTok C SDK by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>

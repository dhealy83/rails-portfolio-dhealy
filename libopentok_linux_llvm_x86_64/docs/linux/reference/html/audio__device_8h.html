<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenTok C SDK: src/otkit/include/opentok/audio_device.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenTok C SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_93ffdfbd8e3a9a67091da64e2fa73a89.html">otkit</a></li><li class="navelem"><a class="el" href="dir_5bf4e1e7754f85924dbbd8ed2fd823c8.html">include</a></li><li class="navelem"><a class="el" href="dir_ea75cd660b3020692252ae823ed5c04e.html">opentok</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">audio_device.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Audio device.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;config.h&quot;</code><br />
<code>#include &quot;<a class="el" href="base_8h_source.html">base.h</a>&quot;</code><br />
</div>
<p><a href="audio__device_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structotc__audio__device__settings.html">otc_audio_device_settings</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structotc__audio__device__callbacks.html">otc_audio_device_callbacks</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a146751878b330e569001c4e16d0a300b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="audio__device_8h.html#a146751878b330e569001c4e16d0a300b">otc_audio_device</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audio__device_8h.html#a146751878b330e569001c4e16d0a300b">otc_audio_device</a></td></tr>
<tr class="separator:a146751878b330e569001c4e16d0a300b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7c37ff27485aa773b2500198b5c0f573"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audio__device_8h.html#a7c37ff27485aa773b2500198b5c0f573">otc_audio_device_read_render_data</a> (int16_t *buffer, size_t number_of_samples)</td></tr>
<tr class="separator:a7c37ff27485aa773b2500198b5c0f573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1122c99d96f7a1f29ca41ab7c4681db1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8h.html#ab50ab22c297874fcb1e2da57dbc74e50">otc_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audio__device_8h.html#a1122c99d96f7a1f29ca41ab7c4681db1">otc_audio_device_write_capture_data</a> (const int16_t *buffer, size_t number_of_samples)</td></tr>
<tr class="separator:a1122c99d96f7a1f29ca41ab7c4681db1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25f0b7c447c0b0300ffb5db12b6ee0bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8h.html#ab50ab22c297874fcb1e2da57dbc74e50">otc_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audio__device_8h.html#a25f0b7c447c0b0300ffb5db12b6ee0bc">otc_set_audio_device</a> (const struct <a class="el" href="structotc__audio__device__callbacks.html">otc_audio_device_callbacks</a> *callbacks)</td></tr>
<tr class="separator:a25f0b7c447c0b0300ffb5db12b6ee0bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b0eaabc3a1f3d87daa8473f963da795"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8h.html#ab50ab22c297874fcb1e2da57dbc74e50">otc_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audio__device_8h.html#a7b0eaabc3a1f3d87daa8473f963da795">otc_audio_device_restart_input</a> ()</td></tr>
<tr class="separator:a7b0eaabc3a1f3d87daa8473f963da795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41e93054f65a8269cbef12c0577b13cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8h.html#ab50ab22c297874fcb1e2da57dbc74e50">otc_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="audio__device_8h.html#a41e93054f65a8269cbef12c0577b13cc">otc_audio_device_restart_output</a> ()</td></tr>
<tr class="separator:a41e93054f65a8269cbef12c0577b13cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Audio device. </p>
<p>This file includes the type definition for an audio device, along with structures and functions you use with it.</p>
<p>Use an audio device to define a custom audio capturer for all publishers and a custom audio renderer for all publishers and subscribers. If you do not use a custom audio device, the application will use the default audio device using the system microphone and speaker.</p>
<p>A custom audio is used for any publisher and subscriber in any session the client connects to. Once the audio device is set it acts globally. The capturing and rendering bits in the audio device being set are used for rendering and capturing audio for all participants in the session. You cannot set an audio device for a given publisher or subscriber alone.</p>
<p>Instantiate an <a class="el" href="structotc__audio__device__callbacks.html">otc_audio_device_callbacks</a> structure, setting callback functions for events related to the audio device. Then call otc_set_audio_device(const struct <a class="el" href="structotc__audio__device__callbacks.html">otc_audio_device_callbacks</a> callbacks) to associate the callbacks with the audio device to be used. You must call this function before you connect to a session. Additionally, this is a global operation that must persist throughout the lifetime of an application.</p>
<p>Call the <a class="el" href="audio__device_8h.html#a7c37ff27485aa773b2500198b5c0f573">otc_audio_device_read_render_data</a> function to retrieve unrendered audio samples.</p>
<p>Call the <a class="el" href="audio__device_8h.html#a1122c99d96f7a1f29ca41ab7c4681db1">otc_audio_device_write_capture_data</a> function to write audio samples that will be included in streams you publish. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a146751878b330e569001c4e16d0a300b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a146751878b330e569001c4e16d0a300b">&#9670;&nbsp;</a></span>otc_audio_device</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="audio__device_8h.html#a146751878b330e569001c4e16d0a300b">otc_audio_device</a> <a class="el" href="audio__device_8h.html#a146751878b330e569001c4e16d0a300b">otc_audio_device</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Audio device type definition. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7c37ff27485aa773b2500198b5c0f573"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c37ff27485aa773b2500198b5c0f573">&#9670;&nbsp;</a></span>otc_audio_device_read_render_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t otc_audio_device_read_render_data </td>
          <td>(</td>
          <td class="paramtype">int16_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>number_of_samples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves unrendered audio samples from the session. These samples are mixed from the streams in the session you have subscribed to.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>The buffer containing audio data. </td></tr>
    <tr><td class="paramname">number_of_samples</td><td>The number of samples requested. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of samples copied out of the audio buffer. </dd></dl>

</div>
</div>
<a id="a7b0eaabc3a1f3d87daa8473f963da795"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b0eaabc3a1f3d87daa8473f963da795">&#9670;&nbsp;</a></span>otc_audio_device_restart_input()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8h.html#ab50ab22c297874fcb1e2da57dbc74e50">otc_status</a> otc_audio_device_restart_input </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restarts audio input device. This method must be called whenever a change in input device happens in the custom audio device to let the SDK perform the necessary corrections for the new device. Also this will trigger the following <a class="el" href="structotc__audio__device__callbacks.html">otc_audio_device_callbacks</a> methods in order:</p><ul>
<li>stop_capturer</li>
<li>init_capturer (only if is_capturer_initialized returns false)</li>
<li>start_capturer (only if is_capturer_started returns false) <dl class="section return"><dt>Returns</dt><dd>Return value indicating either error or success. </dd></dl>
</li>
</ul>

</div>
</div>
<a id="a41e93054f65a8269cbef12c0577b13cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41e93054f65a8269cbef12c0577b13cc">&#9670;&nbsp;</a></span>otc_audio_device_restart_output()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8h.html#ab50ab22c297874fcb1e2da57dbc74e50">otc_status</a> otc_audio_device_restart_output </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restarts audio output device. This method must be called whenever a change in output device happens in the custom audio device to let the SDK perform the necessary corrections for the new device. Also this will trigger the following <a class="el" href="structotc__audio__device__callbacks.html">otc_audio_device_callbacks</a> methods in order:</p><ul>
<li>stop_renderer</li>
<li>init_renderer (only if is_renderer_initialized returns false)</li>
<li>start_renderer (only if is_renderer_started returns false) <dl class="section return"><dt>Returns</dt><dd>Return value indicating either error or success. </dd></dl>
</li>
</ul>

</div>
</div>
<a id="a1122c99d96f7a1f29ca41ab7c4681db1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1122c99d96f7a1f29ca41ab7c4681db1">&#9670;&nbsp;</a></span>otc_audio_device_write_capture_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8h.html#ab50ab22c297874fcb1e2da57dbc74e50">otc_status</a> otc_audio_device_write_capture_data </td>
          <td>(</td>
          <td class="paramtype">const int16_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>number_of_samples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Passes in audio data from the audio device to transmit to a session. This audio data is used by streams you publish to the session.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>The buffer containing audio data. </td></tr>
    <tr><td class="paramname">number_of_samples</td><td>The number of samples available for copying. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return value indicating either error or success. </dd></dl>

</div>
</div>
<a id="a25f0b7c447c0b0300ffb5db12b6ee0bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25f0b7c447c0b0300ffb5db12b6ee0bc">&#9670;&nbsp;</a></span>otc_set_audio_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8h.html#ab50ab22c297874fcb1e2da57dbc74e50">otc_status</a> otc_set_audio_device </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structotc__audio__device__callbacks.html">otc_audio_device_callbacks</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the audio device to be used. You must call this function before you connect to a session. Additionally, this is a global operation that must persist throughout the lifetime of a session.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callbacks</td><td>A pointer to a audio device function callback struct. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return value indicating either error or success. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 3 2023 23:46:11 for OpenTok C SDK by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
